<app-nav-bar></app-nav-bar>
<div class="container">
    <table class="table table-striped" [mfData]="data" #mf="mfDataTable" [mfRowsOnPage]="5">
        <thead>
            <tr>
                <th>
                    <mfDefaultSorter by="order_number">Order Id</mfDefaultSorter>
                </th>
                <th>
                    <mfDefaultSorter by="product_name">Product Name</mfDefaultSorter>
                </th>
                <th>
                    <mfDefaultSorter by="customer_email">Email</mfDefaultSorter>
                </th>
                <th id="disableSorting">
                    Shipping Address
                </th>
                <th id="disableSorting">
                    Status
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of mf.data">
                <td>{{item.order_number}}</td>
                <td>{{item.product_name}}</td>
                <td>{{item.customer_email}}</td>
                <td>{{item.address.address}}</td>
                <td>
                    <select #selectedCategory required>
                         <ng-container *ngIf="item.order_status == 'new'">
                             <option [ngValue]=item.order_status>{{item.order_status}}</option>
                             <option [ngValue]="processing">processing</option>
                             <option [ngValue]="delivered">delivered</option>
                         </ng-container>
                         <ng-container *ngIf="item.order_status == 'processing'">
                             <option [ngValue]=item.order_status>{{item.order_status}}</option>
                             <option [ngValue]="new">new</option>
                             <option [ngValue]="delivered">delivered</option>
                         </ng-container>
                         <ng-container *ngIf="item.order_status == 'delivered'">
                             <option [ngValue]=item.order_status>{{item.order_status}}</option>
                             <option [ngValue]="new">new</option>
                             <option [ngValue]="processing">processing</option>
                         </ng-container>
                    </select>
                </td>
                <td>
                    <input type="submit" class="btn btn-primary" (click)="updateOrderStatus(item['order_number'], selectedCategory.value)" value="Update Status">
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">
                    <mfBootstrapPaginator></mfBootstrapPaginator>
                </td>
            </tr>
        </tfoot>
    </table>
</div>